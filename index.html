<section style="max-width:1100px;margin:24px auto;background:#f7f8fa;padding:18px;border-radius:16px;">
  <style>
    /* Layout + mobile */
    .vevor-wrap{display:flex;gap:30px;align-items:flex-start;}
    .vevor-main{flex:3;}
    .vevor-side{flex:1;position:sticky;top:20px;padding:20px;border:1px solid #ddd;border-left:4px solid #2e7d32;border-radius:12px;background:#fafafa;}

    /* Stile */
    .vevor-h2{border-left:5px solid #2e7d32;padding-left:12px;}
    .vevor-box{background:#f5f5f5;padding:15px;border-radius:10px;}
    .vevor-btn{display:inline-block;background:#e65100;color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:600;}
    .vevor-btn:hover{opacity:.92;}
    .vevor-note{font-size:0.9em;opacity:.9;}

    /* Contenitore modello */
    .vevor-card{border:1px solid #e5e5e5;background:#fff;border-radius:14px;padding:14px;margin:14px 0;box-shadow:0 2px 10px rgba(0,0,0,0.04);}
    .vevor-row{display:flex;gap:14px;align-items:flex-start;}
    .vevor-media{flex:0 0 220px;max-width:220px;}
    .vevor-media img{max-width:220px;width:100%;display:block;margin:6px 0 0 0;border-radius:10px;}
    .vevor-content{flex:1;}
    .vevor-content p{margin-top:8px;}
    .vevor-procon{margin-top:10px;padding-top:10px;border-top:1px solid #eee;}
    .vevor-procon ul{margin:0;padding-left:18px;}
    .vevor-meta{margin:8px 0 0 0;padding-left:18px;}
    .vevor-meta li{margin:4px 0;}
    .vevor-card hr{border:0;border-top:1px solid #eee;margin:16px 0;}

    /* Box consigliato */
    .vevor-rec{border:2px solid #2e7d32;background:#eef6f0;padding:18px;border-radius:12px;}
    .vevor-rec h3{margin:0 0 10px 0;color:#2e7d32;}

    /* -------- MINI CHAT AI (compatta) -------- */
    .ai-wrap{margin-top:18px;}
    .ai-mini{
      border:1px solid #e6e6e6;background:#fff;border-radius:14px;
      box-shadow:0 2px 10px rgba(0,0,0,0.05);
      max-width:560px;
      overflow:hidden;
    }
    .ai-head{
      display:flex;align-items:center;justify-content:space-between;
      padding:10px 12px;
      background:linear-gradient(90deg,#f2f7f3,#ffffff);
      border-bottom:1px solid #eee;
      gap:10px;
    }
    .ai-title{display:flex;align-items:center;gap:10px;font-weight:800;}
    .ai-dot{width:10px;height:10px;border-radius:999px;background:#2e7d32;box-shadow:0 0 0 3px rgba(46,125,50,0.15);}
    .ai-sub{font-size:12px;opacity:.8;font-weight:600;}
    .ai-actions{display:flex;gap:8px;align-items:center;}
    .ai-btn{
      border:1px solid #e6e6e6;background:#fff;border-radius:10px;
      padding:7px 10px;cursor:pointer;font-weight:700;
    }
    .ai-btn:hover{background:#fafafa;}
    .ai-body{display:block;}
    .ai-log{
      height:185px;
      overflow:auto;
      padding:10px 12px;
      background:#fcfcfc;
    }
    .ai-msg{margin:8px 0;display:flex;gap:8px;align-items:flex-start;}
    .ai-bubble{
      max-width:88%;
      padding:9px 11px;border-radius:12px;
      border:1px solid #eee;
      line-height:1.35;
      font-size:14px;
      white-space:pre-wrap;
    }
    .ai-me .ai-bubble{background:#fff;border-color:#eaeaea;}
    .ai-bot .ai-bubble{background:#eef6f0;border-color:#d7eadb;}
    .ai-tag{
      font-size:12px;font-weight:800;opacity:.8;margin-top:2px;min-width:46px;
    }
    .ai-input{
      display:flex;gap:8px;align-items:center;
      padding:10px 12px;border-top:1px solid #eee;background:#fff;
    }
    .ai-input input{
      flex:1;border:1px solid #e6e6e6;border-radius:10px;
      padding:10px 11px;font-size:14px;outline:none;
    }
    .ai-input input:focus{border-color:#2e7d32;box-shadow:0 0 0 3px rgba(46,125,50,0.12);}
    .ai-send{
      border:none;background:#2e7d32;color:#fff;
      padding:10px 12px;border-radius:10px;font-weight:800;cursor:pointer;
    }
    .ai-send:hover{opacity:.92;}
    .ai-hints{
      padding:10px 12px;border-top:1px dashed #eee;background:#fff;
      font-size:12.5px;opacity:.9;
    }
    .ai-chip{
      display:inline-block;margin:6px 6px 0 0;
      padding:6px 9px;border-radius:999px;
      border:1px solid #e6e6e6;background:#fafafa;cursor:pointer;
      font-weight:700;font-size:12px;
    }
    .ai-chip:hover{background:#f3f3f3;}
    .ai-collapsed .ai-body{display:none;}
    .ai-footnote{font-size:12px;opacity:.75;margin:8px 0 0 0;}

    @media (max-width: 900px){
      .vevor-wrap{flex-direction:column;}
      .vevor-side{position:relative;top:auto;}
      .vevor-row{flex-direction:column;}
      .vevor-media{max-width:100%;flex:0 0 auto;}
      .vevor-media img{max-width:260px;margin:6px auto 0 auto;}
      .ai-mini{max-width:100%;}
      .ai-log{height:175px;}
    }
  </style>

  <div class="vevor-wrap">

    <!-- CONTENUTO PRINCIPALE -->
    <div class="vevor-main">

      <h1>Quale motosega scegliere? Guida alle motoseghe VEVOR da 25 a 62 cc</h1>

      <div class="vevor-box">
        <p style="margin:0;">
          Scegliere la motosega giusta non √® sempre facile: modelli, potenza, alimentazione e caratteristiche tecniche possono creare confusione, soprattutto se √® la prima volta che ti avvicini a questo tipo di attrezzo. In questa guida scoprirai quali aspetti considerare per trovare la motosega perfetta per le tue esigenze, sia che tu sia un hobbista, un agricoltore o un professionista del settore forestale.
        </p>
      </div>

      <!-- 25 CC CARD -->
      <div class="vevor-card">
        <h2 id="25cc" class="vevor-h2">VEVOR 25 cc ‚Äî leggera e maneggevole</h2>

        <div class="vevor-row">
          <div class="vevor-media">
            <img
              src="https://img.vevorstatic.com/it%2FRQLJ12INCHECGYJ4G001V0%2Fgoods_img_big-v2%2Fgas-chainsaw-m100-12.jpg?format=webp"
              alt="Motosega VEVOR 25 cc"
              loading="lazy"
            />
          </div>

          <div class="vevor-content">
            <div class="vevor-box">
              <p>
                Questa motosega √® pensata per chi cerca uno strumento semplice, leggero e immediato. √à ideale per la manutenzione ordinaria del giardino,
                la potatura di rami di piccolo diametro, il taglio di legna sottile e lavori saltuari attorno a casa. Grazie al peso ridotto e alla maneggevolezza,
                √® particolarmente adatta anche a chi non ha molta esperienza con le motoseghe o non vuole affaticarsi durante l‚Äôutilizzo.
              </p>
              <p style="margin-bottom:0;"><strong>Esempi di utilizzo:</strong> potatura stagionale di alberi da frutto, taglio di rami secchi, piccoli lavori di giardinaggio domestico, preparazione di legna sottile per camino o stufa.</p>
            </div>

            <p style="margin:12px 0 0 0;">
              <a class="vevor-btn" href="INSERISCI_LINK_{{LINK}}" target="_blank" rel="nofollow sponsored noopener">üëâ Vedi prezzo e disponibilit√† ({{CC}})</a>
            </p>
          </div>
        </div>

        <div class="vevor-procon">
          <ul>
            <li><strong>Potenza/peso:</strong> 1,2 cv ‚Äì 4,2 kg</li>
            <li><strong>Pro:</strong> Avviamento ,leggera e facile da gestire.</li>
            <li><strong>Contro:</strong> Taglio max 25cm e potenza contenuta,non adatta a tronchi grossi o lavori intensivi.</li>
          </ul>
        </div>
      </div>

      <!-- 40 CC CARD -->
      <div class="vevor-card">
        <h2 id="40cc" class="vevor-h2">VEVOR 40 cc ‚Äî equilibrio tra peso e potenza</h2>

        <div class="vevor-row">
          <div class="vevor-media">
            <img
              src="https://img.vevorstatic.com/it%2FRQLJ14INCHEC4M9U6001V0%2Fgoods_img_big-v2%2Fgas-chainsaw-m100-12.jpg?format=webp"
              alt="Motosega VEVOR 40 cc"
              loading="lazy"
            />
          </div>

          <div class="vevor-content">
            <div class="vevor-box">
              <p>
                La motosega da 40 cc rappresenta un ottimo equilibrio tra prestazioni e facilit√† d‚Äôuso. Offre una spinta superiore rispetto ai modelli pi√π piccoli,
                mantenendo per√≤ un buon controllo e un peso ancora gestibile. √à indicata per un utilizzo domestico regolare, quando i lavori iniziano a essere pi√π frequenti
                ma non ancora estremamente impegnativi.
              </p>
              <p style="margin-bottom:0;"><strong>Esempi di utilizzo:</strong> taglio di legna da ardere di diametro medio, abbattimento di piccoli alberi, manutenzione di giardini di medie dimensioni, lavori periodici su legname non troppo spesso.</p>
            </div>

            <p style="margin:12px 0 0 0;">
              <a class="vevor-btn" href="INSERISCI_LINK_{{LINK}}" target="_blank" rel="nofollow sponsored noopener">üëâ Vedi prezzo e disponibilit√† ({{CC}})</a>
            </p>
          </div>
        </div>

        <div class="vevor-procon">
          <ul>
            <li><strong>Potenza/peso:</strong> 1,8 cv ‚Äì 5,6 kg</li>
            <li><strong>Pro:</strong>Avviamento,taglio max 30cm,versatile,gestibile.</li>
            <li><strong>Contro:</strong> non adatta a tronchi grossi .</li>
          </ul>
        </div>
      </div>

      <!-- 52 CC CARD -->
      <div class="vevor-card">
        <h2 id="52cc" class="vevor-h2">VEVOR 52 cc ‚Äî per lavori frequenti</h2>

        <div class="vevor-row">
          <div class="vevor-media">
            <img
              src="https://img.vevorstatic.com/it%2FRQLJ18INCHEC6XJG9001V0%2Fgoods_img-v2%2Fgas-chainsaw-m100-10.jpg?timestamp=1746007626000&format=webp"
              alt="Motosega VEVOR 52 cc"
              loading="lazy"
            />
          </div>

          <div class="vevor-content">
            <div class="vevor-box">
              <p>
                Questo modello √® pensato per chi utilizza la motosega con una certa frequenza e ha bisogno di maggiore coppia e continuit√† di taglio.
                La 52 cc garantisce prestazioni solide anche sotto sforzo, risultando adatta a lavori prolungati e a un utilizzo pi√π intenso rispetto ai modelli domestici leggeri.
              </p>
              <p style="margin-bottom:0;"><strong>Esempi di utilizzo:</strong> taglio regolare di legna da ardere, abbattimento di alberi di medie dimensioni, manutenzione di terreni ampi, lavori stagionali ripetuti nel tempo.</p>
            </div>

            <p style="margin:12px 0 0 0;">
              <a class="vevor-btn" href="INSERISCI_LINK_{{LINK}}" target="_blank" rel="nofollow sponsored noopener">üëâ Vedi prezzo e disponibilit√† ({{CC}})</a>
            </p>
          </div>
        </div>

        <div class="vevor-procon">
          <ul>
            <li><strong>Potenza/peso:</strong> 2,4 cv ‚Äì 6,8 kg</li>
            <li><strong>Pro:</strong> Taglio max 43cm,per un uso pi√π frequente rispetto alla 40cc.</li>
            <li><strong>Contro:</strong> non adatta per tronchi grossi.</li>
          </ul>
        </div>

        <div class="vevor-rec" style="margin-top:12px;">
          <h3>‚≠ê Modello consigliato</h3>
          <p style="margin:0;">
            Se sei indeciso e cerchi una motosega versatile per la maggior parte dei lavori domestici e rurali, la <strong>VEVOR 52 cc</strong> √® la scelta pi√π equilibrata:
            buona potenza, ottima resa su legna media e un peso ancora gestibile.
          </p>
        </div>
      </div>

      <!-- 58 CC CARD -->
      <div class="vevor-card">
        <h2 id="58cc" class="vevor-h2">VEVOR 58 cc ‚Äî potenza e controllo</h2>

        <div class="vevor-row">
          <div class="vevor-media">
            <img
              src="https://img.vevorstatic.com/it%2FRQLJ20INCHECJ8F83001V0%2Fgoods_img_big-v2%2Fgas-chainsaw-m100-10.jpg?timestamp=1746007638000&format=webp&format=webp"
              alt="Motosega VEVOR 58 cc"
              loading="lazy"
            />
          </div>

          <div class="vevor-content">
            <div class="vevor-box">
              <p>
                La motosega da 58 cc √® una soluzione intermedia per chi cerca potenza elevata senza arrivare all‚Äôingombro e al peso delle cilindrate pi√π estreme.
                Offre una buona riserva di forza e una maggiore capacit√† di taglio, restando comunque pi√π gestibile rispetto ai modelli top di gamma.
              </p>
              <p style="margin-bottom:0;"><strong>Esempi di utilizzo:</strong> taglio di tronchi di medio-grande diametro, lavori frequenti su legna robusta, manutenzione di aree verdi estese, utilizzo intensivo ma non professionale continuativo.</p>
            </div>

            <p style="margin:12px 0 0 0;">
              <a class="vevor-btn" href="INSERISCI_LINK_{{LINK}}" target="_blank" rel="nofollow sponsored noopener">üëâ Vedi prezzo e disponibilit√† ({{CC}})</a>
            </p>
          </div>
        </div>

        <div class="vevor-procon">
          <ul>
            <li><strong>Potenza/peso:</strong> 2,7cv - 7 KG</li>
            <li><strong>Pro:</strong> Taglio max 45cm,potente e affidabile.</li>
            <li><strong>Contro:</strong> Pi√π ingombrante,pu√≤ essere pesante per lunghi lavori di potatura. </li>
          </ul>
        </div>
      </div>

      <!-- 62 CC CARD -->
      <div class="vevor-card">
        <h2 id="62cc" class="vevor-h2">VEVOR 62 cc ‚Äî massima potenza</h2>

        <div class="vevor-row">
          <div class="vevor-media">
            <img
              src="https://img.vevorstatic.com/it%2FRQLJ20YCECC6X42C2001V0%2Fgoods_img_big-v2%2Fgas-chainsaw-m100-12.jpg?format=webp"
              alt="Motosega VEVOR 62 cc"
              loading="lazy"
            />
          </div>

          <div class="vevor-content">
            <div class="vevor-box">
              <p>
                La 62 cc √® il modello pi√π potente della gamma ed √® progettata per affrontare lavori impegnativi senza compromessi. √à indicata quando serve potenza costante,
                profondit√† di taglio e resistenza durante sessioni di lavoro prolungate. Questa motosega richiede una minima esperienza, ma ripaga con prestazioni elevate anche
                nelle condizioni pi√π difficili.
              </p>
              <p style="margin-bottom:0;"><strong>Esempi di utilizzo:</strong> abbattimento di alberi di grande diametro, taglio di tronchi spessi, preparazione intensiva di legna da ardere, lavori gravosi su terreni boschivi o rurali.</p>
            </div>

            <p style="margin:12px 0 0 0;">
              <a class="vevor-btn" href="INSERISCI_LINK_{{LINK}}" target="_blank" rel="nofollow sponsored noopener">üëâ Vedi prezzo e disponibilit√† ({{CC}})</a>
            </p>
          </div>
        </div>

        <div class="vevor-procon">
          <ul>
            <li><strong>Potenza/peso:</strong> 3,6cv - 8,2 kg</li>
            <li><strong>Pro:</strong> Potenza elevata,barra da 20",taglio max 45cm,per lavori pesanti.</li>
            <li><strong>Contro:</strong> Pesante,richiede forza e controllo,eccessiva per lavori leggeri o brevi sessioni.</li>
          </ul>
        </div>
      </div>

      <hr>

      <h2 class="vevor-h2">Errori comuni nella scelta di una motosega</h2>
      <div class="vevor-box">
        <ul style="margin:0;">
          <li><strong>Scegliere troppa potenza:</strong> una motosega sovradimensionata stanca di pi√π e non migliora il risultato su lavori leggeri.</li>
          <li><strong>Scegliere poca potenza:</strong> una cilindrata troppo bassa su tronchi grandi porta a vibrazioni, fatica e tagli imprecisi.</li>
          <li><strong>Valutare solo il prezzo:</strong> risparmiare inizialmente pu√≤ significare perdere tempo ed efficienza nel lungo periodo.</li>
        </ul>
      </div>

      <hr>

      <h2 class="vevor-h2">Domande frequenti (FAQ)</h2>

      <h3>Come posso vedere prezzo, informazioni complete e altre foto del prodotto?</h3>
      <p>√à sufficiente cliccare sul pulsante presente sotto ogni modello. Verrai reindirizzato alla pagina ufficiale VEVOR dove potrai consultare prezzo aggiornato, scheda tecnica completa e tutte le immagini del prodotto.</p>

      <h3>Una motosega pi√π potente taglia sempre meglio?</h3>
      <p>No. La potenza deve essere proporzionata al tipo di lavoro: su tagli leggeri una cilindrata elevata non porta reali vantaggi.</p>

      <h3>Quanto conta il peso della motosega?</h3>
      <p>Molto. Un peso eccessivo affatica l‚Äôoperatore, soprattutto durante sessioni prolungate o lavori di potatura.</p>

      <h3>Meglio una cilindrata media o alta per uso domestico?</h3>
      <p>Per la maggior parte degli utilizzi domestici intensivi, una 40 o 52 cc rappresenta il miglior compromesso.</p>

      <hr>

      <!-- MINI CHAT AI -->
      <div class="ai-wrap" id="aiChatBox">
        <div class="ai-mini" id="aiMini">
          <div class="ai-head">
            <div>
              <div class="ai-title">
                <span class="ai-dot" aria-hidden="true"></span>
                <span>Chat Motoseghe</span>
              </div>
              <div class="ai-sub">Risponde solo su questa pagina (VEVOR 25‚Äì62cc)</div>
            </div>
            <div class="ai-actions">
              <button class="ai-btn" id="aiToggle" type="button" aria-expanded="true" title="Apri/chiudi">‚Äî</button>
              <button class="ai-btn" id="aiClear" type="button" title="Pulisci chat">Pulisci</button>
            </div>
          </div>

          <div class="ai-body">
            <div class="ai-log" id="aiLog" role="log" aria-live="polite"></div>

            <div class="ai-input">
              <input id="aiInput" type="text" placeholder='Scrivi qui... (es: "potare ulivi", "tronchi 30cm", "quanto pesa la 62cc?")' autocomplete="off" />
              <button class="ai-send" id="aiSend" type="button">Invia</button>
            </div>

            <div class="ai-hints">
              Prova:
              <span class="ai-chip" data-q="Ciao">Ciao</span>
              <span class="ai-chip" data-q="Potare ulivi, cosa prendo?">Potare ulivi</span>
              <span class="ai-chip" data-q="Devo tagliare tronchi da 30 cm">Tronchi 30cm</span>
              <span class="ai-chip" data-q="Differenza tra 40cc e 52cc">40 vs 52</span>
              <span class="ai-chip" data-q="Quanto pesa la 62cc?">Peso 62cc</span>
              <span class="ai-chip" data-q="Come funziona questa chat?">Come funziona</span>

              <p class="ai-footnote">
                Nota: chat ‚Äúlocale‚Äù (JavaScript) compatibile con GitHub Pages/Hostinger. Nessuna API esterna: risponde usando solo i dati gi√† presenti qui.
              </p>
            </div>
          </div>
        </div>
      </div>

      <hr>

      <h2 class="vevor-h2">Perch√© fidarti di noi?</h2>

      <ul>
        <li>Testiamo e confrontiamo il miglior rapporto qualit√†/prezzo.</li>
        <li>Ti aiutiamo a scegliere in base alle tue esigenze il prodotto pi√π adatto.</li>
        <li>Analizziamo pro e contro reali per ogni prodotto/modello.</li>
        <li> Noi siamo affiliati a Vevor e ricaviamo una piccola percentuale da ogni vendita tramite il nostro blog,senza costi aggiuntivi per te!</li>
        <li> Il nostro lavoro √® indirizzare il cliente a fare l'acquisto giusto nel sito ufficiale Vevor.it!</li>
      </ul>

      <hr>

      <h2 class="vevor-h2">Come scegliere in un minuto</h2>

      <p>
        <strong>25 cc ‚Üí </strong>Se fai solo potature e cerchi leggerezza<br>
        <strong>40 cc ‚Üí</strong>Se tagli tronchi piccoli<br>
        <strong>52 cc ‚Üí</strong>Se tagli tronchi medio/piccoli <br>
        <strong>58 cc ‚Üí</strong>Se tagli tronchi medio/grandi + abbattimento alberi medio/grandi <br>
        <strong>62 cc ‚Üí</strong>Se tagli  Tronchi grandi + abbattimento alberi grandi.
      </p>

      <hr>

      <p class="vevor-note"><em>
        Questo sito utilizza link di affiliazione. Acquistando tramite questi link potrei ricevere una commissione,
        senza costi aggiuntivi per te.
      </em></p>

    </div>
  </div>

  <script>
    (function(){
      // --- Knowledge base (SOLO contenuti presenti in pagina) ---
      const MODELS = {
        "25": {
          name: "VEVOR 25 cc",
          power: "1,2 cv",
          weight: "4,2 kg",
          cut: "25 cm (taglio max indicato nei contro)",
          bar: "‚Äî",
          pro: "Avviamento, leggera e facile da gestire.",
          con: "Taglio max 25cm e potenza contenuta, non adatta a tronchi grossi o lavori intensivi.",
          use: "potatura, rami piccoli, legna sottile, lavori saltuari"
        },
        "40": {
          name: "VEVOR 40 cc",
          power: "1,8 cv",
          weight: "5,6 kg",
          cut: "30 cm (taglio max indicato nei pro)",
          bar: "‚Äî",
          pro: "Avviamento, taglio max 30cm, versatile, gestibile.",
          con: "Non adatta a tronchi grossi.",
          use: "legna media, piccoli alberi, uso domestico regolare"
        },
        "52": {
          name: "VEVOR 52 cc",
          power: "2,4 cv",
          weight: "6,8 kg",
          cut: "43 cm (taglio max indicato nei pro)",
          bar: "‚Äî",
          pro: "Taglio max 43cm, per uso pi√π frequente rispetto alla 40cc.",
          con: "Non adatta per tronchi grossi.",
          use: "lavori frequenti, legna da ardere regolare, alberi medi"
        },
        "58": {
          name: "VEVOR 58 cc",
          power: "2,7 cv",
          weight: "7 kg",
          cut: "45 cm (taglio max indicato nei pro)",
          bar: "‚Äî",
          pro: "Taglio max 45cm, potente e affidabile.",
          con: "Pi√π ingombrante, pu√≤ essere pesante per lunghi lavori di potatura.",
          use: "tronchi medio-grandi, aree estese, intensivo non professionale continuativo"
        },
        "62": {
          name: "VEVOR 62 cc",
          power: "3,6 cv",
          weight: "8,2 kg",
          cut: "45 cm (taglio max indicato nei pro)",
          bar: 'Barra da 20"',
          pro: 'Potenza elevata, barra da 20", taglio max 45cm, per lavori pesanti.',
          con: "Pesante, richiede forza e controllo, eccessiva per lavori leggeri o brevi sessioni.",
          use: "tronchi grandi, abbattimento alberi grandi, lavori gravosi"
        }
      };

      // Utility DOM
      const $ = (id)=>document.getElementById(id);
      const logEl = $("aiLog");
      const inputEl = $("aiInput");
      const sendBtn = $("aiSend");
      const clearBtn = $("aiClear");
      const toggleBtn = $("aiToggle");
      const mini = $("aiMini");

      function addMsg(who, text){
        const row = document.createElement("div");
        row.className = "ai-msg " + (who === "me" ? "ai-me" : "ai-bot");
        const tag = document.createElement("div");
        tag.className = "ai-tag";
        tag.textContent = (who === "me" ? "Tu" : "AI");

        const bubble = document.createElement("div");
        bubble.className = "ai-bubble";
        bubble.textContent = text;

        row.appendChild(tag);
        row.appendChild(bubble);
        logEl.appendChild(row);
        logEl.scrollTop = logEl.scrollHeight;
      }

      function norm(s){
        return (s || "")
          .toLowerCase()
          .replace(/[^\p{L}\p{N}\s]/gu, " ")
          .replace(/\s+/g, " ")
          .trim();
      }

      function hasAny(q, arr){
        return arr.some(k => q.includes(k));
      }

      function extractCC(q){
        const m = q.match(/\b(25|40|52|58|62)\s*(cc)?\b/i);
        return m ? m[1] : null;
      }

      // Estrae diametro in cm tipo: "30 cm", "30cm", "diametro 30"
      function extractCm(q){
        const m = q.match(/\b(\d{1,3})\s*(cm|centimetri)\b/i) || q.match(/\bdiametro\s*(\d{1,3})\b/i);
        if (!m) return null;
        const n = parseInt(m[1], 10);
        if (Number.isFinite(n) && n > 0 && n < 200) return n;
        return null;
      }

      // Riconosce intenti con scoring semplice (pi√π robusto di un if secco)
      function scoreIntent(q, keywords){
        let score = 0;
        for (const k of keywords){
          if (q.includes(k)) score += 1;
        }
        return score;
      }

      function recommendByJob(q, cm){
        // Potatura / ulivi / rami
        const potaturaScore = scoreIntent(q, ["potatura","potare","rami","ulivo","ulivi","olivo","frutteto","frutto","siepe"]);
        const legnaScore = scoreIntent(q, ["legna","camino","stufa","da ardere","spaccare","catasta"]);
        const abbattScore = scoreIntent(q, ["abbatt","abbattere","alberi","bosco","pini","pino","quercia","castagno","tronchi grossi","grandi tronchi"]);

        // Se l'utente fornisce cm, usiamo soglie coerenti con "come scegliere in un minuto" + taglio max indicato
        if (cm !== null){
          if (cm <= 15) return "Con tronchi/rami fino a ~15cm: 25cc se vuoi leggerezza, oppure 40cc se vuoi un po‚Äô pi√π di spinta.";
          if (cm <= 25) return "Con diametro intorno a 20‚Äì25cm: 40cc √® un buon compromesso; se √® un lavoro frequente, meglio 52cc.";
          if (cm <= 35) return "Con diametro intorno a 30‚Äì35cm: 52cc (compromesso e consigliata nella pagina). Se √® molto duro/frequente, valuta 58cc.";
          if (cm <= 45) return "Con diametro fino a ~45cm: 58cc o 62cc. 62cc se lavori pesanti e frequenti, ma √® pi√π pesante.";
          return "Se parliamo di diametri oltre ~45cm: nella pagina la pi√π adatta √® la 62cc (lavori pesanti), ma valuta attentamente peso e controllo.";
        }

        // Se non ci sono cm, ragioniamo per intent
        if (abbattScore >= 2) return "Per abbattimento: 58cc su alberi medi/grandi; 62cc se lavori pesanti e tronchi grandi (ma pi√π pesante).";
        if (legnaScore >= 2) return "Per legna da ardere regolare: 52cc (modello consigliato). Se i tronchi sono spesso medio-grandi, 58cc.";
        if (potaturaScore >= 2) return "Per potatura (anche ulivi): 25cc se vuoi super leggerezza; 40cc se vuoi pi√π margine su rami pi√π robusti.";
        return null;
      }

      function modelInfoLine(cc){
        const M = MODELS[cc];
        if (!M) return null;
        const extra = (cc === "62") ? ` | Barra: ${M.bar}` : "";
        return `${M.name}: ${M.power} ‚Äì ${M.weight} | Taglio max: ${M.cut}${extra}`;
      }

      function answerFor(qRaw){
        const q = norm(qRaw);
        const cc = extractCC(q);
        const cm = extractCm(q);

        // Saluti / small talk
        if (hasAny(q, ["ciao", "salve", "buonasera", "buongiorno", "hey", "ehi"])){
          return "Ciao! üòä Cosa vuoi sapere sulle motoseghe di questa pagina? (es: potare ulivi, tronchi 30cm, peso/potenza/taglio max, differenze tra modelli)";
        }
        if (hasAny(q, ["grazie", "thx", "gentile", "top"])){
          return "Figurati! Se mi dici che lavoro devi fare (potatura / legna / abbattimento) e il diametro indicativo, ti indirizzo al modello giusto.";
        }
        if (hasAny(q, ["chi sei", "cosa fai", "come funzioni", "come funziona"])){
          return "Sono una mini-chat integrata nella pagina: rispondo usando solo le info presenti qui sopra (modelli 25/40/52/58/62cc, pro/contro, FAQ e scelta rapida). Premi INVIO per inviare üòâ";
        }

        // Se chiedono prezzo, consumi, miscela ecc: NON inventiamo.
        if (hasAny(q, ["prezzo", "costa", "costo", "offerta", "sconto"])){
          return "Il prezzo pu√≤ cambiare: per vedere prezzo aggiornato e disponibilit√†, clicca sul pulsante sotto al modello che ti interessa (vai alla pagina ufficiale VEVOR).";
        }
        if (hasAny(q, ["consumi", "consumo", "litri", "serbatoio", "miscela", "benzina", "olio miscela", "rumore", "db", "decibel"])){
          return "Questi dati non sono indicati qui nella pagina. Se mi dici il modello (25/40/52/58/62cc), ti dico cosa posso da questa guida; per consumi/rumore/miscela conviene controllare la scheda ufficiale VEVOR cliccando sul pulsante del modello.";
        }

        // Sicurezza / manutenzione (consigli generici, non dati tecnici inventati)
        if (hasAny(q, ["sicurezza", "dpi", "guanti", "casco", "visiera", "antitaglio"])){
          return "Per sicurezza: usa DPI (guanti, occhiali/visiera, cuffie e pantaloni antitaglio se lavori spesso), lavora con presa stabile e non tagliare sopra le spalle. Se mi dici che lavoro fai, ti dico anche quale cilindrata ha pi√π senso per evitare fatica inutile.";
        }
        if (hasAny(q, ["manutenzione", "catena", "affilare", "affilatura", "tensione catena", "pulizia"])){
          return "Consiglio pratico: catena sempre ben tesa e affilata (taglia meglio e vibra meno), pulizia dopo l‚Äôuso e controlli regolari. Per i dettagli specifici del tuo modello, apri la pagina VEVOR dal pulsante e verifica le indicazioni ufficiali.";
        }

        // Confronti tra modelli (es: "40 vs 52")
        const vs = q.match(/\b(25|40|52|58|62)\b.*\b(vs|contro|rispetto|differenza|meglio)\b.*\b(25|40|52|58|62)\b/);
        if (vs){
          const a = vs[1], b = vs[3];
          const A = MODELS[a], B = MODELS[b];
          return [
            `Differenza ${A.name} vs ${B.name}:`,
            `‚Ä¢ Potenza/peso: ${a}cc = ${A.power}, ${A.weight} | ${b}cc = ${B.power}, ${B.weight}`,
            `‚Ä¢ Taglio max: ${a}cc ‚âà ${A.cut} | ${b}cc ‚âà ${B.cut}`,
            `‚Ä¢ Quando scegliere ${a}cc: ${A.use}`,
            `‚Ä¢ Quando scegliere ${b}cc: ${B.use}`
          ].join("\n");
        }

        // Domande su peso/potenza/taglio/pro/contro di un modello specifico
        if (cc && MODELS[cc]){
          const M = MODELS[cc];

          if (hasAny(q, ["pesa", "peso", "kg"])) return `${M.name}: peso indicato in pagina = ${M.weight}.`;
          if (hasAny(q, ["potenza", "cv", "cavalli"])) return `${M.name}: potenza indicata in pagina = ${M.power}.`;
          if (hasAny(q, ["taglio", "taglia", "diametro", "lunghezza", "max", "barra"])) {
            const extra = (cc === "62") ? ` Inoltre: ${M.bar}.` : "";
            return `${M.name}: taglio max indicato in pagina ‚âà ${M.cut}.${extra}`;
          }
          if (hasAny(q, ["pro", "vantaggi", "pregi"])) return `${M.name} ‚Äî Pro: ${M.pro}`;
          if (hasAny(q, ["contro", "svantaggi", "difetti"])) return `${M.name} ‚Äî Contro: ${M.con}`;
          if (hasAny(q, ["per cosa", "uso", "utilizzo", "adatta", "consigliata"])) return `${M.name}: adatta per ${M.use}.`;

          if (hasAny(q, ["info", "dettagli", "specifiche", "caratteristiche"])){
            return [
              `${M.name} ‚Äî info rapide:`,
              `‚Ä¢ Potenza/peso: ${M.power} ‚Äì ${M.weight}`,
              `‚Ä¢ Taglio max: ${M.cut}`,
              (cc === "62" ? `‚Ä¢ Barra: ${M.bar}` : ""),
              `‚Ä¢ Pro: ${M.pro}`,
              `‚Ä¢ Contro: ${M.con}`,
              `‚Ä¢ Ideale per: ${M.use}`
            ].filter(Boolean).join("\n");
          }
        }

        // Richieste "consiglio" + riconoscimento automatico (potatura/ulivi, tronchi cm, legna, abbattimento)
        if (hasAny(q, ["quale mi consigli", "cosa mi consigli", "quale scegliere", "consigliami", "migliore", "che prendo", "che compro", "mi serve", "mi serve una motosega"]) || cm !== null){
          const rec = recommendByJob(q, cm);
          if (rec) return rec;

          // fallback di consiglio
          return "Dimmi 1 cosa sola e ti rispondo al volo:\n‚Ä¢ potatura / legna / abbattimento\noppure\n‚Ä¢ diametro medio (es: 20cm, 30cm, 40cm)\nIn base a questo ti dico quale tra 25/40/52/58/62cc ha pi√π senso.";
        }

        // FAQ generali
        if (hasAny(q, ["altre foto", "tutte le foto", "immagini", "foto del prodotto", "prezzo", "disponibilit√†", "scheda tecnica"])){
          return "Per prezzo aggiornato, scheda tecnica completa e tutte le immagini: clicca sul pulsante sotto al modello che ti interessa e vai alla pagina ufficiale VEVOR.";
        }
        if (hasAny(q, ["pi√π potente", "taglia sempre meglio", "sempre meglio"])){
          return "No: la potenza va proporzionata al lavoro. Su tagli leggeri una cilindrata elevata non d√† veri vantaggi e stanca di pi√π (come scritto nella sezione errori comuni).";
        }
        if (hasAny(q, ["conta il peso", "importanza del peso", "perch√© peso"])){
          return "Conta molto: pi√π peso = pi√π affaticamento, soprattutto in potatura o sessioni lunghe (FAQ).";
        }
        if (hasAny(q, ["uso domestico", "casa", "hobbista", "compromesso"])){
          return "Per uso domestico intensivo il miglior compromesso, secondo la pagina, √® 40cc o 52cc. Se vuoi un unico modello ‚Äútuttofare‚Äù, qui viene consigliata la 52cc.";
        }

        // Errori comuni
        if (hasAny(q, ["errori", "sbagli", "sovradimensionata", "troppa potenza", "poca potenza"])){
          return "Errori comuni: 1) troppa potenza = ti stanchi senza vantaggi nei lavori leggeri; 2) poca potenza su tronchi grandi = vibrazioni/fatica/tagli imprecisi; 3) guardare solo il prezzo = perdi efficienza nel tempo.";
        }

        // Se scrivono solo un numero tipo "52" o "62"
        if (!cc){
          const justNum = q.match(/^\s*(25|40|52|58|62)\s*$/);
          if (justNum){
            const n = justNum[1];
            const line = modelInfoLine(n);
            return line ? line : "Dimmi il modello (25/40/52/58/62cc) e ti rispondo.";
          }
        }

        // Fallback ‚Äúintelligente‚Äù
        return "Posso aiutarti! Scrivi una di queste:\n‚Ä¢ \"potare ulivi\" / \"legna da ardere\" / \"abbattere alberi\"\n‚Ä¢ \"tronchi 30cm\" (o altro diametro)\n‚Ä¢ \"peso/potenza/taglio max 52cc\"";
      }

      function send(){
        const text = (inputEl.value || "").trim();
        if (!text) return;

        addMsg("me", text);
        inputEl.value = "";

        const reply = answerFor(text);
        addMsg("bot", reply);
      }

      // Eventi: click + INVIO
      sendBtn.addEventListener("click", send);
      inputEl.addEventListener("keydown", function(e){
        if (e.key === "Enter"){
          e.preventDefault();
          send();
        }
      });

      // Chips
      document.querySelectorAll(".ai-chip").forEach(chip=>{
        chip.addEventListener("click", ()=>{
          inputEl.value = chip.getAttribute("data-q") || "";
          inputEl.focus();
          send();
        });
      });

      // Pulisci
      clearBtn.addEventListener("click", ()=>{
        logEl.innerHTML = "";
        boot();
      });

      // Collapse
      toggleBtn.addEventListener("click", ()=>{
        const collapsed = mini.classList.toggle("ai-collapsed");
        toggleBtn.textContent = collapsed ? "+" : "‚Äî";
        toggleBtn.setAttribute("aria-expanded", collapsed ? "false" : "true");
      });

      function boot(){
        addMsg("bot", "Ciao! üòä Dimmi cosa devi fare e ti consiglio la cilindrata giusta tra 25/40/52/58/62cc.");
        addMsg("bot", "Esempi: ‚Äúpotare ulivi‚Äù, ‚Äúlegna da ardere‚Äù, ‚Äúabbattere alberi‚Äù, ‚Äútronchi 30cm‚Äù, ‚Äúpeso 62cc‚Äù, ‚Äú40 vs 52‚Äù.");
      }

      boot();
    })();
  </script>
</section>
